def chkp(g):
 
  G = ig.Graph.from_networkx(g)
  H = G.complementer(g)

  if G.density() < H.density():
    Z = H
    H = G
    G = Z
  
  tact = list()
  for x,y in itertools.combinations(H.vs.indices, 2):
    cu = 0
    for p in H.get_all_shortest_paths(x,to=y):
     vals = dict([(i,{i}) for i in H.vs.indices])
     path = set(p)

     for z in p:
      for n in G.neighbors(z):
        vals[z] |= vals[n]
      if z in path and (x in vals[z] and y in vals[z]):
        path.remove(z)

     for z in reversed(p):
      for n in G.neighbors(z):
        vals[z] |= vals[n]
      if z in path and (x in vals[z] and y in vals[z]):
        path.remove(z)
      
     if (len(path) == 0):
      cu += 1
    tact.append(cu)

  return tact
